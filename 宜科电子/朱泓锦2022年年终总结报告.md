# 2022年年终总结报告

## 主要工作内容

### 项目一：GJY2109_重庆工业职业技术学院智能生产线

#### 项目描述

用于展示和修改生产线的入库和订单的一套系统

#### 主要负责

| 开发 | 搭建页面端项目                                       |
| ---- | ---------------------------------------------------- |
|      | 参与数据库设计，存储过程编写                         |
|      | Web样式和逻辑。后端逻辑。                            |
| 测试 | 用SQL伪造假格式正确的数据用于测试系统的正确与稳定    |
| 部署 | Hbuilder打包页面端项目，与现场联调                   |
| 维护 | 根据现场提供的现实条件，更改项目中的代码逻辑和样式。 |
|      | 按需求时间做标记，打包项目交于现场。                 |

#### 问题及解决方案

| 移动端样式不适配    | 在项目开发初期，调试中发现不同的屏幕分辨率会导致样式错乱     |
| ------------------- | ------------------------------------------------------------ |
|                     | 使用rem.js文件在页面初始化时使用rem适配了屏幕                |
| 测试环境IIS无法连接 | 页面无法访问到对应的IIS端口                                  |
|                     | 配置Window Defender防火墙 的入站规则后，解决问题             |
| Hbuilder打包失败    | 在打包过程中出现，apk打包异常的问题                          |
|                     | 经过排查发现是证书无效或者过期。按官方流程解决了该问题       |
| 库位显示的问题      | 在生产过程中，库位的状态有时候会变成禁用或者不可用。所以不能做成静态 |
|                     | 将页面代码配置到JS中，用动态生成的方式解决了库位显示的问题   |
| 订单屏卡顿的问题    | 订单屏在数据量少的情况下，仍然会卡屏，这是一个很严重的问题！ |
|                     | 在尝试过bootstrap和layui的插件以后，定位问题是插件导致的。后来使用原生开发以后，再次尝试，卡屏的问题解决。 |



### 项目二：GRJ2025_红旗N117项目Andon系统

#### 项目描述

安东平台的中控系统，Andon平台大屏

#### 主要负责

| 开发       | 二次开发后台管理系统的Web样式及逻辑，后端逻辑，存储过程      |
| ---------- | ------------------------------------------------------------ |
|            | 使用CEL框架项目，开发展示大屏AndonScreen，绘制SVG            |
| 测试       | 用SQL插入数据，测试中控系统和Andon平台大屏                   |
| 部署及维护 | windows环境下部署Andon平台大屏Web                            |
|            | 配置生产环境信息，打包部署IIS服务，同步SQLServer             |
|            | 在中控项目中，与三方厂家沟通，确认收集到的数据的准确率，修改存储过程 |

#### 问题及解决方案

| Andon大屏SVG的多次修改                       | 在开发SVG画面的时候，由于现场的负责人为多个，在svg开发的时候就出现了很多种版本 |
| -------------------------------------------- | ------------------------------------------------------------ |
|                                              | 在开发了8个版本以后，综合以上版本开发出最终版，托付我们公司的现场项目经理与甲方负责沟通，确认最终版本 |
| 解析收集数据过程存在问题                     | 车辆测试数据是由第三方收集的，但是格式发生了改变，之前人员开发的存储过程不再适用 |
|                                              | 先与第三方厂家沟通数据格式。确认格式后再次开发数据收集的存储过程。 |
|                                              | 在测试环境和生产环境配置定时任务确认存储过程的正确性，便于后续的开发 |
| iframe不适配                                 | 开发环境和生产环境的分辨率不同导致iframe区域的样式错乱       |
|                                              | 根据生产环境的分辨率定制                                     |
| 使用AI绘制的SVG导出的ID乱码                  | AI的命名中包括"_"的元素导出后会追加多余的字符。把所有的下划线替换后解决 |
| 使用SQLServer代理MySQL配置链接服务器出的问题 | 使用默认的odbc无法作为链接服务器代理mysql                    |
|                                              | 在查询odbc，mysql，SqlServer的版本依赖关系后，从odbc官网下载了对应版本的ODBC，安装后从SQLServer中配置链接服务器解决 |
| SQL存储过程出现数据无法查询的问题            | 在存储过程中没有定义变量nvarchar的长度，导致的问题。加了长度就解决了 |
| Andon大屏报警内容错误                        | Andon现场项目经理提醒大屏告警内容有错                        |
|                                              | 在排查后发现并不是我们的错误，是三方的配置信息出了错。截图配合三方做了修改 |
| Andon大屏设备告警部分数据频闪                | 在使用marque标签实现滚动播出告警内容后，发生了Web频闪的问题  |
|                                              | 将marque标签实现变成了之前写的原生组件VScroll实现，解决了该问题 |
| 大屏对应点异常                               | 在生产环境中观察发现数据有误。                               |
|                                              | 经排查，在Kepserver发现对应的PLC数据点异常无连接，和现场项目经理沟通后，最后发现是现场设备的电源被切断了。 |



### 项目三：GRJ2109_一汽大众佛山VW316/7项目焊装车间

#### 项目描述

用于展示和编辑佛山一汽大众焊装车间数据的中控系统

#### 主要负责

| 开发 | Web样式和逻辑，后端逻辑。数据库存储过程           |
| ---- | ------------------------------------------------- |
| 测试 | 用SQL伪造假格式正确的数据用于测试系统的正确与稳定 |

#### 问题及解决方案

| NPOI样式对象资源获取异常   | 在NPOI定制化展示excel中遇到了样式对象获取资源异常的问题。    |
| -------------------------- | ------------------------------------------------------------ |
|                            | 经过排查，发现是代码中创建了大量的重复对象，在提高变量的作用域后解决 |
| 查询到的数据显示结果不一致 | 对告警排名数据查询测试时，发现数据每次得到的都不一样         |
|                            | 对查询数据新增了一个排序条件解决不一致的问题                 |
| 告警数据排序查询的问题     | 在开发告警数据的存储过程中，发现数据通过次数和时间聚合的时候查询的结果不准确 |
|                            | 由于之前的存储过程有多个临时表嵌套使用的情况，于是重写了存储过程的逻辑和结构，在从嵌套3-4次的临时表，变为仅使用一次临时表和多个变量进行复用的结构后，数据查询无误 |

### 项目四：GRJ2105_一汽大众汽车有限公司长春基地整

#### 项目描述

用于展示和编辑一汽大众长春现场的中控系统

#### 主要负责

| 开发 | 快速开发Web样式和逻辑，后端逻辑。数据库存储过程   |
| ---- | ------------------------------------------------- |
| 测试 | 用SQL伪造假格式正确的数据用于测试系统的正确与稳定 |

#### 问题及解决方案

| Web中职工日历转天功能问题 | 由于转天只有一个字段决定，所以在用户设定了上班的日程后，会存在非上班时间转天误判的问题 |
| ------------------------- | ------------------------------------------------------------ |
|                           | 后续在Web新增了转天的标志，用于判断该时间段的日程是否为转天  |
| xml批量删除               | 通信过程中，xml并没有直接传给后台，在后台乱码。              |
|                           | 后续在前后端编解码解决                                       |
| 图片预览问题              | 后端传递给前端完整文件后，前端无法展示图片。会报错           |
|                           | 换了种实现方式，在后端将服务器中的图片转码成base64后，传递给前端，实现了图片展示 |
| 存储过程参数为数组        | 在接收参数后，使用string_split分割参数，leftjoin关联表得到所需筛选的数据表 |

## 个人发展

#### 学习内容

##### 数据库

1.学习SQL的进阶语法和更多的内置方法函数

2.学习存储过程的临时表进阶使用

3.学习优化数据库结构的方法

##### 后端

学习.Net core的相关知识

##### 前端

1.熟练掌握市面上比较流行的几个框架，如React，Vue

2.学习Node.js编程

3.学习前端优化的知识

#### 提升

1. 对优化数据库方面做深入了解
2. 对之前在工作中遇到的问题进行回顾
3. 保持浏览国外社区的习惯，保持技术的敏锐度和新鲜感
4. 2023年加油！